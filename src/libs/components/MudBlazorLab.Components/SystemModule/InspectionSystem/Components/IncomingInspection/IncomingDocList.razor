@using MudBlazorLab.Components.SystemModule.InspectionSystem.Components.InspectionCommon
@namespace MudBlazorLab.Components.SystemModule.InspectionSystem.Components.IncomingInspection

<DocListBase FormType="FormTable.来料检验单"
             OnNewDocAsync="OnNewDocAsync"
             ValidateExtra="ValidateExtra"
             MapExtraToForm="MapExtraToForm"
             OpenObjectsPanel="OpenObjectsPanel">
    <ExtraFields>
        <MudBlazorLab.Components.SystemModule.InspectionSystem.Components.GridDataGridSelect TItem="global::InspectionSystem.Models.ErpTicket" Items="@_erpTickets"
            @bind-SelectedItems="Tickets" DisplayTextSelector="@(p => p.TicketNo)" Label="ERP单号">
            <ColumnsTemplate>
                <PropertyColumn T="global::InspectionSystem.Models.ErpTicket" TProperty="string" Property="@(x => x.TicketNo)" Title="单号" />
                <PropertyColumn T="global::InspectionSystem.Models.ErpTicket" TProperty="string" Property="@(x => x.VendorName)" Title="供应商" />
                <PropertyColumn T="global::InspectionSystem.Models.ErpTicket" TProperty="string" Property="@(x => x.CreatedAt.HasValue? x.CreatedAt.Value.ToString("yyyy-MM-dd") : string.Empty)" Title="创建日期" />
            </ColumnsTemplate>
        </MudBlazorLab.Components.SystemModule.InspectionSystem.Components.GridDataGridSelect>
    </ExtraFields>
</DocListBase>
