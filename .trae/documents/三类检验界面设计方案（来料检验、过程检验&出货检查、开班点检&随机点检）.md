## 背景与作用

* 来料检验（IQC）：采购入库前对供应商来料进行抽样检验，依据 AQL/ISO 2859-1 抽样方案判定批次接收/拒收 \[ISO 2859-1 概述与AQL采样：4EasyReg <https://4easyreg.com/iso-2859-aql/；Alekvs实务指南> <https://www.alekvs.com/what-is-iso-2859-a-practical-guide-to-sampling-inspection/；QualityInspection> AQL说明 <https://qualityinspection.org/what-is-the-aql/；Insight-Quality> AQL采样 <https://insight-quality.com/what-is-aql-and-what-do-you-need-to-know-about-it/]。>

* 过程检验（IPQC）：生产过程中抽样监控过程稳定性（工单、产线、站点、参数、缺陷趋势），防止批量不良 \[Alekvs：IQC/IPQC/OQC场景均应用 ISO 2859-1]。

* 出货检查（OQC）：装运前确认成品满足客户和法规要求（包装、标签、功能、外观等），基于 AQL 的抽样与缺陷分级（Critical/Major/Minor）判定 \[QualityInspection/Qarma]。

* 开班点检：开班前设备、工装、5S、安全、首件认可准备度检查（班次/产线/设备状态）。

* 随机点检：在制随机抽查（产品/工位/参数/作业规范），快速发现异常与趋势。

## 栏位设计（三界面，三部分）

### 一、来料检验（IQC）

* 表单模板

  * 模板名称/版本；适用物料类别；抽样方案：Inspection Level（I/II/III，默认II）、AQL（Critical/ Major/ Minor），；检验项目清单（外观/尺寸/功能/资料/环保RoHS）；判定与处置（接收/退货）。

* 对象列表（筛选与列）

  * 供应商、到货单/PO、物料编码与描述、批次/批号、到货数量、抽样样本量、收货日期、状态（待检/已检/拒收）。

* 检验详情

  * 批次信息：供方、PO、批次、数量、抽样参数（Inspection Level、AQL、样本量、Ac/Re）。

  * 检验记录：项目明细（外观、尺寸、功能），每项的结果（Pass/Fail）、测量值、照片/附件、缺陷分级（Critical/Major/Minor）、不良数统计。

  * 处置与审批：判定结论（Accept/Reject），处置方式，原因代码（品质/来料/文件），审批人与时间。

  * 参考：AQL抽样判定与缺陷分级 \[QualityInspection/Qarma；GB/T 2828（ANSI/ASQ Z1.4/ISO 2859-1）]。

### 二、过程检验 & 出货检查（IPQC & OQC）

* 表单模板

  * IPQC模板：工序/站点、抽样频次/期间、关键参数（温度、压力、扭矩等）、作业规范/SOP要点、判定阈值与处置流程。

  * OQC模板：客户/产品、包装/标签/证书清单（COC/COA）、功能与外观检项、抽样方案（AQL）、缺陷分级与判定。

* 对象列表（筛选与列）

  * IPQC：工单/生产批次、产线/站点、班次、在制数量、抽样样本量、状态。

  * OQC：销售/出货单、客户、产品型号、批次、出货数量、抽样样本量、状态。

* 检验详情

  * IPQC：过程参数/作业符合性检查

  * OQC：包装/标签/外观/功能检查、抽样记录与缺陷分级、出货判定与放行、异常处置（补料/返修）。

  * 参考：ISO 2859-1 AQL应用到 IPQC/OQC 场景 \[Alekvs；QualityInspection]。

### 三、开班点检 & 随机点检

* 表单模板

  * 开班点检：班次、产线、设备/工装清单、点检项目（安全/5S/设备状态/首件认可/材料准备/安灯/备件/计量器具）、是否强制项与责任人。

  * 随机点检：抽查对象（产品/工位/设备）、抽样数量或频率、检查项目（作业规范、质量特性、过程参数）。

* 对象列表（筛选与列）

  * 开班点检：日期、班次、产线、值班长/点检人、点检结果（通过/不通过）、异常项数。

  * 随机点检：抽查时间、对象类型/标识、工位/设备、样本量、结果（通过/不通过）、缺陷统计。

* 检验详情

  * 开班点检：逐项点检记录（通过/不通过/备注），首件认可记录，异常项整改与复核。

  * 随机点检：抽样与检查记录（项目结果/），

## 交互与流程

* 三段式布局：页签（界面切换）→ 左侧“表单模板”选择/配置 → 中间“对象列表”筛选与选择 → 右侧“检验详情”录入与判定。

* 抽样辅助：输入批量与AQL/Inspection Level，自动计算样本量与接收/拒收数（Ac/Re）；支持 Critical/Major/Minor 分类 \[QualityInspection：<https://qualityinspection.org/what-is-the-aql/；Insight-Quality：https://insight-quality.com/what-is-aql-and-what-do-you-need-to-know-about-it/]。>

* 缺陷分级：Critical/Major/Minor 分别计数与规则判定；异常触发 NCR/CAPA；可配置客户特殊 AQL 要求 \[知乎AQL与GB/T 2828 说明：<https://zhuanlan.zhihu.com/p/34998662、https://zhuanlan.zhihu.com/p/529073480]。>

  <br />

## 数据模型（建议）

* 模板：`InspectionTemplate`（类型：IQC/IPQC/OQC/Shift/Random；版本；检项；抽样参数：level、AQL）

* 对象：`InspectionObject`（业务键：来料/工单/出货单/班次；产品/物料/站点/产线；批量/数量）

* 检验记录：`InspectionRecord`（对象引用；样本量；Ac/Re；结论；处置）

* 检项与缺陷：`InspectionItem`（项目名/类型/阈值）；`Defect`（分级/代码/数量/描述）

## 校验与规则

* AQL/ISO 2859-1 抽样参数校验（批量、Inspection Level、AQL到样本量与Ac/Re映射）；

* 缺陷分级阈值；强制项（开班点检）必须完成；

* 客户特殊 AQL 与放宽/加严切换（参考 GB/T 2828/ISO 2859-1 转移规则）。

## 权限与审计

* 角色：检验员、值班长、工程师、质量经理；

* 审批流：拒收/隔离/返工需审批；记录留痕（时间、操作者、版本）。

## 交付里程碑

1. 字段与字典确认（状态、缺陷代码、客户AQL）：与业务方对齐。
2. 低保真原型（三界面三部分交互与字段布局）。
3. 高保真原型（抽样计算、缺陷分级）。
4. 后端接口对接与导出（列表分页、明细保存、报表导出）。
5. UAT与优化（AQL参数、切换规则、性能）。

## 说明与引用

* AQL/ISO 2859-1 抽样原理与字段来源：

  * 4EasyReg ISO 2859-1 概述与接收判定示例：<https://4easyreg.com/iso-2859-aql/>

  * Alekvs 实务指南（IQC/IPQC/OQC场景、Inspection Level、Code Letter与样本量）：<https://www.alekvs.com/what-is-iso-2859-a-practical-guide-to-sampling-inspection/>

  * QualityInspection AQL科普（样本量、Ac/Re、缺陷分级）：<https://qualityinspection.org/what-is-the-aql/>

  * Insight-Quality（ANSI/ASQ Z1.4/ISO 2859-1 表格与解读）：<https://insight-quality.com/what-is-aql-and-what-do-you-need-to-know-about-it/>

  * 中文背景与GB/T 2828 抽样细则说明（知乎）：<https://zhuanlan.zhihu.com/p/34998662、https://zhuanlan.zhihu.com/p/529073480>

  * 国家标准平台（抽样检验程序相关）：<https://std.samr.gov.cn/gb/search/gbDetailed?id=71F772D75A9ED3A7E05397BE0A0AB82A>

请确认以上字段与设计方向；确认后我将基于本项目的 MudBlazor 体系实现三个界面，每个界面分三部分：

表单模板（模板定义了抽样规则）、对象列表（列表基于模板，是批次判定结果）、检验详情（是一系列检验项，可以每个项的值）。
