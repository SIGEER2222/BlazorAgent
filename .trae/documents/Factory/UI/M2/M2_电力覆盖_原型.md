M2 电力覆盖 UI 原型

目标与路由
- 路由：`/factory/power`
- 目标：展示电网覆盖范围与负载曲线，支持限电策略与能耗类型区分（电/燃料）。

数据源与契约
- 电网域：`GET /api/power/{factoryId}/domain`
  - `generators[]`：`{ id, position, radius, capacityKw }`
  - `consumers[]`：`{ id, machineId, position, powerKw, energyType:"electric|fuel", status:"running|throttled|stopped" }`
  - `coverage[]`：`{ cell{row,col}, inRange:boolean }`
  - `budget`：`{ capacityKw, demandKw, utilization }`
- 限电策略：`POST /api/power/{factoryId}/throttle` → `{ mode:"global|byLine|byMachine", targetId?, limitKw }`

布局与交互
- 顶部工具栏：电网选择、策略模式选择、限电参数输入。
- 画布层：
  - 覆盖栅格着色（在 `inRange=true` 的网格标示淡蓝），发电机显示半径圈。
  - 设备以状态图标标示（运行/降频/停机），悬停显示 `powerKw` 与能耗类型。
- 侧边面板：负载曲线与预算卡片（`capacityKw/demandKw/utilization`）。

能耗类型说明
- 电力：计入 `TotalEnergyKWh` 与负载预算；可被限电影响。
- 燃料：不计入电力预算；显示燃料库存与消耗速率（M2 引擎实现），燃料不足时设备停机。

验收标准
- 当 `demandKw > capacityKw` 时，设备状态显示为降频或停机，负载卡片 `utilization > 1`。
- 调整限电策略后，目标设备/产线吞吐下降，电网 `demandKw` 与设备状态更新正确。
- 覆盖图与设备位置一致，越界设备标识警告。

性能建议
- 覆盖网格按视窗动态采样；曲线图数据下采样以减少重绘开销。

